# Flutter Firestore ì»¤ë®¤ë‹ˆí‹° ì•±

Flutterì™€ Firebaseë¥¼ í™œìš©í•œ ì‹¤ì‹œê°„ ì»¤ë®¤ë‹ˆí‹° ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤. ê²Œì‹œíŒ ê¸°ëŠ¥ê³¼ ì´ë¯¸ì§€ ê³µìœ  ê¸°ëŠ¥ì„ ì œê³µí•˜ë©°, Firebaseì˜ ë‹¤ì–‘í•œ ì„œë¹„ìŠ¤ë¥¼ í™œìš©í•˜ì—¬ ì•ˆì •ì ì´ê³  í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°ë¡œ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

## 1) í”„ë¡œì íŠ¸ ì†Œê°œ

ì´ í”„ë¡œì íŠ¸ëŠ” Flutter í”„ë ˆì„ì›Œí¬ì™€ Firebase ë°±ì—”ë“œ ì„œë¹„ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ì»¤ë®¤ë‹ˆí‹° í”Œë«í¼ì…ë‹ˆë‹¤. ì‚¬ìš©ì ì¸ì¦, í…ìŠ¤íŠ¸ ê²Œì‹œíŒ, ì´ë¯¸ì§€ ê²Œì‹œíŒ ë“± ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì œê³µí•˜ë©°, ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™”ì™€ ì•ˆì „í•œ ì¸ì¦ ë°©ì‹ì„ êµ¬í˜„í•©ë‹ˆë‹¤.

### ì£¼ìš” íŠ¹ì§•
- ğŸ” Firebase Authenticationì„ í†µí•œ ì•ˆì „í•œ ì‚¬ìš©ì ì¸ì¦
- ğŸ“ ì‹¤ì‹œê°„ í…ìŠ¤íŠ¸ ê²Œì‹œíŒ (CRUD ê¸°ëŠ¥)
- ğŸ“¸ ì´ë¯¸ì§€ ì—…ë¡œë“œ ë° ê³µìœ  ê²Œì‹œíŒ
- â­ ì¦ê²¨ì°¾ê¸° ê¸°ëŠ¥
- ğŸŒ“ ë‹¤í¬/ë¼ì´íŠ¸ í…Œë§ˆ ì§€ì›
- ğŸ“± ë°˜ì‘í˜• UI ë””ìì¸

## 2) ì£¼ìš” ê¸°ëŠ¥

### ì¸ì¦ ì‹œìŠ¤í…œ
- ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ê¸°ë°˜ íšŒì›ê°€ì… ë° ë¡œê·¸ì¸
- ì‚¬ìš©ì í”„ë¡œí•„ ê´€ë¦¬
- ì—­í•  ê¸°ë°˜ ê¶Œí•œ ì‹œìŠ¤í…œ (user, admin)

### í™ˆ í˜ì´ì§€
- ìµœê·¼ ê²Œì‹œê¸€ 5ê°œ ë¯¸ë¦¬ë³´ê¸°
- ìµœì‹  ì´ë¯¸ì§€ 5ê°œ ê°€ë¡œ ìŠ¤í¬ë¡¤ ë·°
- ë¡œê·¸ì¸ ì‚¬ìš©ìë³„ ì¦ê²¨ì°¾ê¸° ì´ë¯¸ì§€ ëª©ë¡

### ê¸€ ê²Œì‹œíŒ
- ê²Œì‹œê¸€ ì‘ì„±, ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œ (CRUD)
- ê³µì§€ì‚¬í•­ ê¸°ëŠ¥
- ì¡°íšŒìˆ˜ ì¹´ìš´íŒ…
- ì‘ì„±ì ì •ë³´ í‘œì‹œ

### ì´ë¯¸ì§€ ê²Œì‹œíŒ
- ì´ë¯¸ì§€ ì—…ë¡œë“œ ë° ì €ì¥ (Firebase Storage)
- ì´ë¯¸ì§€ ìƒì„¸ ë³´ê¸°
- ì´ë¯¸ì§€ ìˆ˜ì • ë° ì‚­ì œ
- ì¢‹ì•„ìš”(ì¦ê²¨ì°¾ê¸°) ê¸°ëŠ¥
- ì´ë¯¸ì§€ ì„¤ëª… ì‘ì„±

### ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤
- ë‹¤í¬/ë¼ì´íŠ¸ í…Œë§ˆ ì „í™˜
- í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°”
- ì‚¬ì´ë“œ ë“œë¡œì–´ ë©”ë‰´
- ê³µí†µ ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš© (AppBar, Dialog ë“±)

## 3) ê¸°ìˆ  ìŠ¤íƒ

### í”„ë¡ íŠ¸ì—”ë“œ
- **Flutter** (^3.10.1) - í¬ë¡œìŠ¤ í”Œë«í¼ UI í”„ë ˆì„ì›Œí¬
- **Provider** (^6.1.5+1) - ìƒíƒœ ê´€ë¦¬
- **Material Design** - UI ë””ìì¸ ì‹œìŠ¤í…œ

### ë°±ì—”ë“œ (Firebase)
- **Firebase Core** (^4.3.0) - Firebase ì´ˆê¸°í™” ë° ì„¤ì •
- **Cloud Firestore** (^6.1.1) - NoSQL ë°ì´í„°ë² ì´ìŠ¤
- **Firebase Authentication** (^6.1.3) - ì‚¬ìš©ì ì¸ì¦
- **Firebase Storage** (^13.0.5) - ì´ë¯¸ì§€ íŒŒì¼ ì €ì¥
- **Cloud Functions** (^6.0.5) - ì„œë²„ë¦¬ìŠ¤ ë°±ì—”ë“œ ë¡œì§
- **Firebase App Check** (^0.4.1+3) - ì•± ë³´ì•ˆ ë° ë‚¨ìš© ë°©ì§€

### ìœ í‹¸ë¦¬í‹°
- **image_picker** (^1.2.1) - ì´ë¯¸ì§€ ì„ íƒ ë° ì´¬ì˜
- **intl** (^0.20.2) - êµ­ì œí™” ë° ë‚ ì§œ í˜•ì‹í™”
- **logger** (^2.6.2) - ë¡œê¹…
- **http** (^1.2.2) - HTTP ìš”ì²­
- **path_provider** (^2.1.4) - íŒŒì¼ ì‹œìŠ¤í…œ ê²½ë¡œ ì ‘ê·¼
- **path** (^1.9.0) - ê²½ë¡œ ì¡°ì‘ ìœ í‹¸ë¦¬í‹°

## 4) ì•„í‚¤í…ì²˜

í”„ë¡œì íŠ¸ëŠ” ê³„ì¸µí™”ëœ ì•„í‚¤í…ì²˜ íŒ¨í„´ì„ ë”°ë¦…ë‹ˆë‹¤:

```
lib/
â”œâ”€â”€ models/          # ë°ì´í„° ëª¨ë¸
â”‚   â”œâ”€â”€ model_comment.dart
â”‚   â”œâ”€â”€ model_img_post.dart
â”‚   â”œâ”€â”€ model_post.dart
â”‚   â””â”€â”€ model_user.dart
â”œâ”€â”€ provider/        # ìƒíƒœ ê´€ë¦¬ (Provider íŒ¨í„´)
â”‚   â”œâ”€â”€ provider_auth.dart
â”‚   â”œâ”€â”€ provider_board.dart
â”‚   â”œâ”€â”€ provider_comment.dart
â”‚   â”œâ”€â”€ provider_home.dart
â”‚   â”œâ”€â”€ provider_img_board.dart
â”‚   â””â”€â”€ provider_theme.dart
â”œâ”€â”€ service/         # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë° Firebase ì„œë¹„ìŠ¤ ë ˆì´ì–´
â”‚   â”œâ”€â”€ service_auth.dart
â”‚   â”œâ”€â”€ service_cloud_functions.dart
â”‚   â”œâ”€â”€ service_file.dart
â”‚   â”œâ”€â”€ service_image.dart
â”‚   â”œâ”€â”€ service_post.dart
â”‚   â”œâ”€â”€ service_sign.dart
â”‚   â””â”€â”€ service_validation.dart
â”œâ”€â”€ pages/           # í™”ë©´ (Page ìœ„ì ¯)
â”‚   â”œâ”€â”€ page_about.dart
â”‚   â”œâ”€â”€ page_home.dart
â”‚   â”œâ”€â”€ page_image_board.dart
â”‚   â”œâ”€â”€ page_post_add.dart
â”‚   â”œâ”€â”€ page_post_detail.dart
â”‚   â”œâ”€â”€ page_post_list.dart
â”‚   â”œâ”€â”€ page_post_update.dart
â”‚   â””â”€â”€ page_user_list.dart
â”œâ”€â”€ dialogs/         # ë‹¤ì´ì–¼ë¡œê·¸ ìœ„ì ¯
â”‚   â”œâ”€â”€ dialog_image_add.dart
â”‚   â”œâ”€â”€ dialog_image_detail.dart
â”‚   â”œâ”€â”€ dialog_image_update.dart
â”‚   â”œâ”€â”€ dialog_sign_in.dart
â”‚   â””â”€â”€ dialog_sign_up.dart
â”œâ”€â”€ common_widgets/  # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ê³µí†µ ìœ„ì ¯
â”‚   â”œâ”€â”€ common_appbar.dart
â”‚   â”œâ”€â”€ common_dialog.dart
â”‚   â”œâ”€â”€ common_Drawer.dart
â”‚   â”œâ”€â”€ common_form_text.dart
â”‚   â”œâ”€â”€ common_listview.dart
â”‚   â”œâ”€â”€ common_navi.dart
â”‚   â””â”€â”€ common_sec_header.dart
â””â”€â”€ screen/          # ì „ì²´ í™”ë©´ ë ˆì´ì•„ì›ƒ
    â””â”€â”€ main_navigation_screen.dart
```

### ì•„í‚¤í…ì²˜ íŒ¨í„´
- **Provider íŒ¨í„´**: ìƒíƒœ ê´€ë¦¬ ë° ì˜ì¡´ì„± ì£¼ì…
- **ì„œë¹„ìŠ¤ ë ˆì´ì–´**: Firebaseì™€ì˜ í†µì‹  ë° ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë¶„ë¦¬
- **ëª¨ë¸ ë ˆì´ì–´**: ë°ì´í„° êµ¬ì¡° ì •ì˜ ë° ë³€í™˜ ë¡œì§
- **í”„ë ˆì  í…Œì´ì…˜ ë ˆì´ì–´**: UI ì»´í¬ë„ŒíŠ¸ ë° í˜ì´ì§€

### ë°ì´í„° íë¦„
1. **UI Layer** â†’ Providerì— ì•¡ì…˜ ìš”ì²­
2. **Provider** â†’ Service ë ˆì´ì–´ í˜¸ì¶œ
3. **Service** â†’ Firebase API í˜¸ì¶œ
4. **Firebase** â†’ ë°ì´í„° ë°˜í™˜
5. **Provider** â†’ ìƒíƒœ ì—…ë°ì´íŠ¸ ë° UIì— ì•Œë¦¼
6. **UI Layer** â†’ ìƒˆë¡œìš´ ìƒíƒœ ë°˜ì˜

## 5) ë³´ì•ˆ/ê¶Œí•œ

### ì¸ì¦ ë³´ì•ˆ
- **Firebase Authentication**: ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ê¸°ë°˜ ì•ˆì „í•œ ì¸ì¦
- **Firebase App Check**: 
  - Android: Play Integrity (í”„ë¡œë•ì…˜), Debug (ê°œë°œ)
  - iOS/macOS: DeviceCheck (í”„ë¡œë•ì…˜), Debug (ê°œë°œ)
  - ì•±ì˜ ë¬´ë‹¨ ì‚¬ìš© ë°©ì§€ ë° API ë³´í˜¸

### ê¶Œí•œ ê´€ë¦¬
- **ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´ (RBAC)**: UserModelì— role í•„ë“œ í¬í•¨ (user, admin)
- **ì‘ì„±ì í™•ì¸**: ê²Œì‹œê¸€/ì´ë¯¸ì§€ ìˆ˜ì •/ì‚­ì œ ì‹œ ì‘ì„±ì í™•ì¸
- **ì¸ì¦ ìƒíƒœ í™•ì¸**: ë³´í˜¸ëœ ê¸°ëŠ¥ ì ‘ê·¼ ì‹œ ì¸ì¦ ì—¬ë¶€ í™•ì¸

### ë°ì´í„° ë³´ì•ˆ
- Firestore ë³´ì•ˆ ê·œì¹™ (Firebase Consoleì—ì„œ ì„¤ì • í•„ìš”)
- Firebase Storage ë³´ì•ˆ ê·œì¹™
- ì‚¬ìš©ì ë°ì´í„° ê²©ë¦¬ ë° ì ‘ê·¼ ì œì–´

## 6) ì‹¤í–‰ ë°©ë²•

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­
- Flutter SDK (^3.10.1)
- Dart SDK
- Firebase í”„ë¡œì íŠ¸ ì„¤ì • ì™„ë£Œ
- Android Studio / Xcode (í”Œë«í¼ë³„ ë¹Œë“œ)

### Firebase ì„¤ì •
1. Firebase Consoleì—ì„œ í”„ë¡œì íŠ¸ ìƒì„±
2. Android/iOS/Web ì•± ë“±ë¡
3. `google-services.json` (Android) ë° ì„¤ì • íŒŒì¼ ë‹¤ìš´ë¡œë“œ
4. `firebase_options.dart` íŒŒì¼ ìƒì„± (`flutterfire configure`)

### ì„¤ì¹˜ ë° ì‹¤í–‰

```bash
# ì˜ì¡´ì„± ì„¤ì¹˜
flutter pub get

# Firebase Functions ì˜ì¡´ì„± ì„¤ì¹˜ (functions í´ë”ì—ì„œ)
cd functions
npm install
cd ..

# ì•± ì‹¤í–‰ (ë””ë²„ê·¸ ëª¨ë“œ)
flutter run

# íŠ¹ì • í”Œë«í¼ ì‹¤í–‰
flutter run -d chrome          # Web
flutter run -d android         # Android
flutter run -d ios             # iOS
```

### í™˜ê²½ ë³€ìˆ˜ ë° ì„¤ì •
- Firebase ì„¤ì •ì€ `lib/firebase_options.dart`ì— í¬í•¨
- Android: `android/app/google-services.json` í•„ìš”
- iOS: Firebase ì„¤ì • íŒŒì¼ ì¶”ê°€ í•„ìš”

## 7) í™•ì¥ ë°©í–¥

### ê¸°ëŠ¥ í™•ì¥
- [ ] ëŒ“ê¸€ ì‹œìŠ¤í…œ ê³ ë„í™” (ëŒ€ëŒ“ê¸€, ì¢‹ì•„ìš” ë“±)
- [ ] ì‹¤ì‹œê°„ ì±„íŒ… ê¸°ëŠ¥
- [ ] ì•Œë¦¼ ì‹œìŠ¤í…œ (Push Notification)
- [ ] ê²€ìƒ‰ ë° í•„í„°ë§ ê¸°ëŠ¥
- [ ] í˜ì´ì§• ë° ë¬´í•œ ìŠ¤í¬ë¡¤ ìµœì í™”
- [ ] ì´ë¯¸ì§€ í¸ì§‘ ê¸°ëŠ¥ (í¬ë¡­, í•„í„° ë“±)
- [ ] ì‚¬ìš©ì í”„ë¡œí•„ í˜ì´ì§€
- [ ] ì†Œì…œ ë¡œê·¸ì¸ (Google, Apple ë“±)
- [ ] ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ

### ê¸°ìˆ  ê°œì„ 
- [ ] ìƒíƒœ ê´€ë¦¬ ê°œì„  (Riverpod, Bloc ë“± ê³ ë ¤)
- [ ] ì˜¤í”„ë¼ì¸ ì§€ì› ê°•í™”
- [ ] ì´ë¯¸ì§€ ìºì‹± ìµœì í™”
- [ ] ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ (Firebase Performance)
- [ ] ì—ëŸ¬ ì¶”ì  (Firebase Crashlytics)
- [ ] í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„± (Unit, Widget, Integration)
- [ ] CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•

### ì‚¬ìš©ì ê²½í—˜ ê°œì„ 
- [ ] ë‹¤êµ­ì–´ ì§€ì› (i18n)
- [ ] ì ‘ê·¼ì„± (a11y) ê°œì„ 
- [ ] ì• ë‹ˆë©”ì´ì…˜ ë° ì „í™˜ íš¨ê³¼
- [ ] í’€ íˆ¬ ë¦¬í”„ë ˆì‹œ ê¸°ëŠ¥
- [ ] ì´ë¯¸ì§€ ì§€ì—° ë¡œë”© (Lazy Loading)
